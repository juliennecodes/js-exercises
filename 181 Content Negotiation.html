<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Content Negotiation</title>
</head>

<body>
  <header>

  </header>

  <main>
    <form>
      <button type="submit" name="button">Submit</button>
    </form>

  </main>

  <footer>Copyright &copy;2020 Me!</footer>

  <script>
    // let content = "chocolate cake";

    // fetch("https://eloquentjavascript.net/author").then(
    //   response => {
    //     console.log(response.status);
    //     console.log(response.headers.get("content-type"));
    //   }
    // );
    //can there only be one fetch for multiple forms?

    // fetch("https://eloquentjavascript.net/author",
    //   {method: "POST", body: content})
    //   .then(
    //   response => {
    //     console.log(response.status + content);
    //   });
    //   //405chocolate cake

    // fetch("https://eloquentjavascript.net/author",
    //     {
    //       method: "POST",
    //       body: content
    //     })
    //   .then(response => {
    //     console.log(response.status);
    //     console.log(response.status + content);
    //   });

    //how do you add request body

    // fetch("https://eloquentjavascript.net/author",
    //     {
    //       method: "POST",
    //       body: "content"
    //     })
    //   .then(response => {
    //     console.log(response.status);
    //
    //     // console.log(request.method);
    //     //error - request is not defined
    //   });

    // fetch("https://eloquentjavascript.net/author",
    //   {header: {Accept: "text/html"}}).then
    //   (response => console.log(response));
      //error missing ) after argument list
      //error resolved, I forgot to put quotation around the link

    fetch("https://eloquentjavascript.net/author",
      {headers: {accept: "text/plain"}})
      .then(response => response.text())
      .then(text => console.log(text));

    fetch("https://eloquentjavascript.net/author",
      {headers: {Accept: "text/html"}})
      .then(response => response.text())
      .then(text => console.log(text));

    fetch("https://eloquentjavascript.net/author",
      {headers: {Accept: "application/json"}})
      .then(response => response.text())
      .then(text => console.log(text));

    fetch("https://eloquentjavascript.net/author",
      {headers: {Accept: "application/rainbows+unicorn"}})
      .then(response => response.text())
      .then(text => console.log(text));

      //Accept header tells the server what type of file format you'd like to receive?

      //so you get the response object
      //then you do a text method on it
      //text method gets the actual content of the response, response body?
      //does text method parse the response body?
      //and formats it in the requested format?

      //how do you do the json format?
      //where does JSON.stringify come from?

  </script>
</body>

</html>
